{"remainingRequest":"C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\src\\views\\device\\list\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\src\\views\\device\\list\\index.vue","mtime":1609569561000},{"path":"C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\r7000\\Desktop\\pagepro\\lsying\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"C:/Users/r7000/Desktop/pagepro/lsying/node_modules/@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es7.array.includes\");\n\nrequire(\"core-js/modules/es6.string.includes\");\n\nvar _waves = _interopRequireDefault(require(\"@/directive/waves\"));\n\nvar _Pagination = _interopRequireDefault(require(\"@/components/Pagination\"));\n\nvar _dialog = _interopRequireDefault(require(\"./components/dialog\"));\n\nvar _deviceListApi = _interopRequireDefault(require(\"@/api/device/device-list-api\"));\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'DeviceList',\n  components: {\n    DeviceDialog: _dialog.default,\n    Pagination: _Pagination.default\n  },\n  directives: {\n    waves: _waves.default\n  },\n  filters: {\n    statusFilter: function statusFilter(status) {\n      if (status === 0) {\n        return \"info\";\n      } else if (status === 1) {\n        return \"success\";\n      } else if (status === 2) {\n        return \"warning\";\n      }\n    }\n  },\n  data: function data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: 0,\n      listLoading: true,\n      sortColumn: 'id',\n      sortAsc: false,\n      listQuery: {\n        pageIndex: 1,\n        pageSize: 10,\n        keyword: null,\n        name: null,\n        code: null,\n        state: null,\n        pageSorts: []\n      },\n      stateOptions: [{\n        label: '已删除',\n        value: 1\n      }, {\n        label: '未删除',\n        value: 0\n      }],\n      tableColumnChecked: null,\n      searchColumn: 'keyword',\n      searchValue: null,\n      searchOptions: [{\n        label: '全部',\n        value: 'keyword'\n      }, {\n        label: '角色名称',\n        value: 'name'\n      }, {\n        label: '角色编码',\n        value: 'code'\n      }],\n      createTimeRange: null,\n      showReviewer: true,\n      dialogStatus: '',\n      textMap: {\n        update: 'Edit',\n        create: 'Create'\n      },\n      dialogPvVisible: false,\n      pvData: [],\n      downloadLoading: false\n    };\n  },\n  created: function created() {\n    this.setDefaultSort();\n    this.getList();\n  },\n  methods: {\n    getList: function getList() {\n      var _this = this;\n\n      this.listLoading = true;\n      var isAdmin = JSON.parse(sessionStorage.userInfo).loginSysUserVo.permissionCodes.includes('admin:device:page');\n\n      _deviceListApi.default.getPageList(this.listQuery, isAdmin).then(function (response) {\n        _this.list = response.data.records;\n        _this.total = response.data.total;\n        _this.listLoading = false;\n      });\n    },\n    handleFilter: function handleFilter() {\n      this.listQuery.pageIndex = 1;\n      this.listQuery.keyword = null;\n      this.listQuery.name = null;\n      this.listQuery.code = null;\n      this.listQuery[this.searchColumn] = this.searchValue;\n      this.getList();\n    },\n    setDefaultSort: function setDefaultSort() {\n      // 设置默认排序\n      this.listQuery.pageSorts = [{\n        column: this.sortColumn,\n        asc: this.sortAsc\n      }];\n    },\n    sortChange: function sortChange(data) {\n      var prop = data.prop,\n          order = data.order;\n\n      if (prop === 'createTime') {\n        this.sortColumn = 'create_time';\n      } else {\n        this.sortColumn = prop;\n      }\n\n      this.sortAsc = order === 'ascending';\n      this.listQuery.pageSorts = [{\n        column: this.sortColumn,\n        asc: this.sortAsc\n      }];\n      this.handleFilter();\n    },\n    getSortClass: function getSortClass(key) {\n      if (this.sortColumn === key) {\n        return this.sortAsc ? 'ascending' : 'descending';\n      } else {\n        return '';\n      }\n    },\n    handleAdd: function handleAdd() {\n      var _this2 = this;\n\n      this.dialogStatus = 'create';\n      this.$nextTick(function () {\n        _this2.$refs.addPage.handle();\n      });\n    },\n    handDetail: function handDetail(id) {\n      var _this3 = this;\n\n      this.$nextTick(function () {\n        _this3.$refs.detailPage.handle(id);\n      });\n    },\n    handUpdate: function handUpdate(id) {\n      var _this4 = this;\n\n      this.$nextTick(function () {\n        _this4.$refs.updatePage.handle(id);\n      });\n    },\n    handleDelete: function handleDelete(id, dname) {\n      var _this5 = this;\n\n      this.$confirm('您确定要删除 ' + dname + ' ?', '删除提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _deviceListApi.default.delete(id).then(function (response) {\n          if (response.code === 200) {\n            _this5.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n\n            _this5.handleFilter();\n          }\n        });\n      });\n    }\n  }\n};\nexports.default = _default;",null]}