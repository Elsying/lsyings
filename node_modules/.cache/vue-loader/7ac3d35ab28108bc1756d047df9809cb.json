{"remainingRequest":"D:\\Desktop\\pagepro\\lsying\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\pagepro\\lsying\\src\\views\\system\\sys-menu\\sys-menu-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\pagepro\\lsying\\src\\views\\system\\sys-menu\\sys-menu-list.vue","mtime":1609569561000},{"path":"D:\\Desktop\\pagepro\\lsying\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Desktop\\pagepro\\lsying\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\pagepro\\lsying\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport sysPermissionApi from '@/api/system/sys-permission-api.js'\nimport SysMenu from './components/sys-menu'\n\nexport default {\n  name: 'SysMenuList',\n  components: { SysMenu },\n  directives: {  },\n  filters: {\n    typeFilter(type) {\n      if (type === 1) {\n        return 'success'\n      } else if (type === 2) {\n        return 'info'\n      }\n    },\n    stateFilter(state) {\n      if (state === 0) {\n        return 'info'\n      } else if (state === 1) {\n        return 'success'\n      }\n    }\n  },\n  data() {\n    return {\n      expandAll: true,\n      expandRow: {},\n      tableData: [],\n      tableRowData: [],\n      tableKey: 0,\n      list: null,\n      total: 0,\n      listLoading: true\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    handleExpandAll() {\n      // 如果当前是展开，则设置为折叠，反之亦然\n      this.expandAll = !this.expandAll\n      this.expandRow = {}\n      if (this.tableRowData) {\n        this.tableRowData.forEach(row => {\n          this.$refs.menuTable.toggleRowExpansion(row, this.expandAll)\n        })\n      }\n    },\n    getList() {\n      this.listLoading = true\n      sysPermissionApi.getAllMenuTree().then(response => {\n        this.tableData = response.data\n        this.listLoading = false\n        // 获取一级/二级菜单对象\n        if (this.tableData) {\n          this.tableData.forEach(row => {\n            this.tableRowData.push(row);\n            if (row.children && row.children.length > 0) {\n              row.children.forEach(r => {\n                this.tableRowData.push(r);\n              })\n            }\n          })\n        }\n      })\n    },\n    handleRowClick(row, column, event) {\n      const expandState = this.expandRow[row.id];\n      if (expandState === undefined) {\n        this.expandRow[row.id] = !this.expandAll;\n      } else if (expandState) {\n        this.expandRow[row.id] = false\n      } else {\n        this.expandRow[row.id] = true;\n      }\n      this.$refs.menuTable.toggleRowExpansion(row, this.expandRow[row.id]);\n    },\n    handleFilter() {\n      this.getList()\n    },\n    handleAdd(event) {\n      this.$nextTick(() => {\n        this.$refs.addPage.handle()\n      })\n    },\n    handDetail(id) {\n      this.$nextTick(() => {\n        this.$refs.detailPage.handle(id)\n      })\n    },\n    handUpdate(id) {\n      this.$nextTick(() => {\n        this.$refs.updatePage.handle(id)\n      })\n    },\n    handleDelete(id, name) {\n      this.$confirm('您确定要删除 ' + name + ' ?', '删除提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        sysPermissionApi.delete(id).then(response => {\n          if (response.code === 200) {\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            })\n            this.handleFilter()\n          }\n        })\n      })\n    }\n  }\n}\n",null]}